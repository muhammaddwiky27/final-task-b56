<!DOCTYPE html>
<html>
  <head>
    <title>My Project</title>
    <link rel="stylesheet" href="/assets/css/blog.css" />
    <link rel="stylesheet" href="/assets/css/navbar.css" />
    <link rel="stylesheet" href="/assets/css/index.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

    <style>

    .btn-button {
        margin-right: 50px;
    }

    .btn-provinsi {
        margin-left: 20px;
        margin-top: 20px;
        margin-bottom: 20px;
    }

    .btn-primary {
        background-color: #00aaff; /* Custom blue color */
        border-color: #00aaff;
    }

    .row {
        margin-top: 10px;
        padding: 20px;
    }

  </style>
  </head>

  <body>

    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
        
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">

            <h1>Provinsi & Kabupaten</h1>
              
            </ul>

            <div class="navbar-right">
      {{#if isLogin}}

        {{!-- <a href="/logout" class="navbar-contact-btn"> Logout </a> --}}

      {{else}}

        <a href="login" class="navbar-contact-btn"> Login </a>
        <a href="/register" class="navbar-contact-btn"> Register </a>

      {{/if}}
            
            <div class="btn-button">
              {{#if isLogin}}
                <a href="add-provinsi" class="btn btn-primary" type="button">Add Provinsi</a> 
                <a href="#" class="btn btn-primary" type="button">Add Kabupaten</a>
                <a href="/logout" class="navbar-contact-btn"> Logout </a>
                {{/if}}
            </div>

        </div>
      </nav>
  
      <div class="btn-provinsi">
        <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
            Provinsi
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <li><a class="dropdown-item" href="#">Jawa Barat</a></li>
            <li><a class="dropdown-item" href="#">Jawa Tengah</a></li>
            <li><a class="dropdown-item" href="#">Sumatera Selatan</a></li>
            <li><a class="dropdown-item" href="#">Sumatera Barat</a></li>
        </ul>
    </div>

    <div class="collapse navbar-collapse hovers" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item fs-5 ms-2">
                        <a class="nav-link hovers hover active" href="/#back">
                            <i class="fa-solid fa-arrow-left"></i> Back
                        </a>
                    </li>

    </div>

    <!-- Blog -->
    <!-- Form -->

    <div class="blog">
      {{#if isLogin}}

      <div class="blog-form">
        <div class="form-container">
          <form action="/blog" method="POST" enctype="multipart/form-data">
            <h1>Add Provinsi</h1>
            <div>
              <label for="input-blog-title">Nama Provinsi</label>
              <input id="input-blog-title" name="title" value="{{data.title}}"/> 
            </div>
            <div>
              <label for="input-blog-content">Content</label>
              <textarea id="input-blog-content"
              name="content"
              value="{{data.content}}">
              </textarea>
            </div>

            <div>
              <label>Upload Image</label>
              <div class="input-blog-image-group">
                <label for="input-blog-image">
                  <p>Choose</p>
                  <img
                    src="/assets/img/download.png"
                    alt="file"
                    style="width: 40px"
                  />
                </label>
                <input type="file" id="input-blog-image" name="image" hidden />
              </div>
            </div>
            <div class="button-group">
              <button>Post Provinsi</button>
            </div>
          </form>
        </div>
      </div>
      {{/if}}

      <hr class="line" />
      <div id="" class="blog-list">

        {{#each data}}
        <div class="blog-list-item">
          <div class="blog-image">
            <img src="/uploads/{{this.image}}" alt="" />
          </div>
          <div class="blog-content">
            {{!-- {{#if isLogin}} --}}
            <div class="btn-group">
              <a class="btn-edit btn-secondary"
              href="/blog-detail/{{this.id}}"
              style="text-decoration: none; color: black; margin-right: 10px"
              role="buttom"
              >Detail</a>

              <a class="btn-edit btn-secondary"
              href="/edit-blog/{{this.id}}"
              style="text-decoration: none; color: black; margin-right: 10px"
              role="buttom"
              >Edit Post</a>
              
              <a href="/delete-blog/{{this.id}}"
              class="btn-post"
              style="text-decoration: none; color: white; margin-right: 10px"
              role="buttom"
              >Delete Post</a>
            </div>
            {{!-- {{/if}} --}}
            <h1>
              <a href="/blog-detail/{{this.id}}" 
              target="_blank">
              {{this.title}}</a>
              
            </h1>
            <div class="detail-blog-content">
            {{this.created_at}}  
            |
            {{this.author}}
            </div>
            <p style="width: 100%;">
            {{this.content}}
            </p>
            
          </div>
        </div>
        {{/each}}
        
        <!-- dynamic content would be here -->

      </div>
    </div>

    {{!-- <div class="container"> --}}

    </div>
    {{!-- <script src="/assets/js/soal-3.js"></script> --}}
    <script src="/assets/js/blog.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>